{"ast":null,"code":"var _jsxFileName = \"/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/pages/redactors/DashboardEditions__redactor.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from 'react';\nimport { DashboardContent, DashboardWrapper, EditionDetails, EditionMore, EditionQueue, EditionsContainer, EditionStatus, EditionsWrapper, EditionTitle } from \"../../styled/Dashboard.styled\";\nimport DashboardNavigation from \"../../components/DashboardNavigation\";\nimport { AdminButton, AdminH1, AdminH2, ScrollButton } from \"../../styled/Common.styled\";\nimport { NewEditionPopup } from \"../../components/NewEditionPopup\";\nimport { getUserData } from \"../../api/userApiCalls\";\nimport { listEditions } from \"../../api/contentApiCall\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction DashboardEditions__chief() {\n  _s();\n\n  const [userdata, setUserdata] = useState({\n    \"detail\": \"\",\n    \"groups\": [],\n    \"user\": {\n      \"username\": \"\",\n      \"email\": \"\",\n      \"first_name\": \"\",\n      \"last_name\": \"\",\n      \"groups\": []\n    }\n  });\n  const [editionsdata, setEditionsdata] = useState([]);\n  useEffect(() => {\n    getUserData().then(resp => setUserdata(resp));\n    listEditions().then(resp => setEditionsdata(resp));\n  }, []);\n  const newEditionPopupRef = useRef();\n\n  function newEditionAppear() {\n    newEditionPopupRef.current.style.display = \"flex\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(DashboardWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(NewEditionPopup, {\n      ref: newEditionPopupRef,\n      shown: false\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DashboardNavigation, {\n      basic: true,\n      active: \"home\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(DashboardContent, {\n      children: [/*#__PURE__*/_jsxDEV(AdminH1, {\n        children: [\"Bonjour, \", userdata.user.first_name, \".\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(AdminH2, {\n        children: \"Derni\\xE8res \\xE9ditions du journal\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(EditionsWrapper, {\n        children: /*#__PURE__*/_jsxDEV(EditionsContainer, {\n          children: editionsdata.map(edition => {\n            return /*#__PURE__*/_jsxDEV(EditionDetails, {\n              children: [/*#__PURE__*/_jsxDEV(EditionTitle, {\n                children: edition.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(EditionStatus, {\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: edition.status == \"published\" ? \"bi bi-check-circle\" : \"bi bi-clock\",\n                  children: \" \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 59,\n                  columnNumber: 45\n                }, this), edition.status == \"published\" ? \"Publié\" : \"En cours de rédaction\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(EditionQueue, {\n                children: [edition.redaction, \" articles en attente, \", edition.correction, \" en correction, \", edition.done, \" termin\\xE9\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(EditionMore, {\n                href: \"/editions/\" + edition.id,\n                children: \"En voir +\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 41\n              }, this)]\n            }, edition.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 37\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DashboardEditions__chief, \"YcGH2Nt+XVzfDvaI31EiPvGcNgk=\");\n\n_c = DashboardEditions__chief;\nexport default DashboardEditions__chief;\n\nvar _c;\n\n$RefreshReg$(_c, \"DashboardEditions__chief\");","map":{"version":3,"names":["React","useEffect","useRef","useState","DashboardContent","DashboardWrapper","EditionDetails","EditionMore","EditionQueue","EditionsContainer","EditionStatus","EditionsWrapper","EditionTitle","DashboardNavigation","AdminButton","AdminH1","AdminH2","ScrollButton","NewEditionPopup","getUserData","listEditions","DashboardEditions__chief","userdata","setUserdata","editionsdata","setEditionsdata","then","resp","newEditionPopupRef","newEditionAppear","current","style","display","user","first_name","map","edition","title","status","redaction","correction","done","id"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/pages/redactors/DashboardEditions__redactor.js"],"sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport {\n    DashboardContent,\n    DashboardWrapper,\n    EditionDetails, EditionMore, EditionQueue,\n    EditionsContainer, EditionStatus,\n    EditionsWrapper, EditionTitle\n} from \"../../styled/Dashboard.styled\";\nimport DashboardNavigation from \"../../components/DashboardNavigation\";\nimport {AdminButton, AdminH1, AdminH2, ScrollButton} from \"../../styled/Common.styled\";\nimport {NewEditionPopup} from \"../../components/NewEditionPopup\";\nimport {getUserData} from \"../../api/userApiCalls\";\nimport {listEditions} from \"../../api/contentApiCall\";\n\nfunction DashboardEditions__chief() {\n\n    const [userdata, setUserdata] = useState(\n        {\n            \"detail\": \"\",\n            \"groups\": [],\n            \"user\": {\n                \"username\": \"\",\n                \"email\": \"\",\n                \"first_name\": \"\",\n                \"last_name\": \"\",\n                \"groups\": []\n            }\n        }\n    );\n    const [editionsdata, setEditionsdata] = useState([]);\n\n    useEffect(() => {\n        getUserData().then(resp => setUserdata(resp))\n        listEditions().then(resp => setEditionsdata(resp))\n    }, []);\n\n\n\n    const newEditionPopupRef = useRef()\n\n    function newEditionAppear() {\n        newEditionPopupRef.current.style.display = \"flex\"\n    }\n    return (\n        <DashboardWrapper>\n            <NewEditionPopup ref={newEditionPopupRef} shown={false}/>\n            <DashboardNavigation basic={true} active={\"home\"}/>\n            <DashboardContent>\n                <AdminH1>Bonjour, {userdata.user.first_name}.</AdminH1>\n                <AdminH2>Dernières éditions du journal</AdminH2>\n                <EditionsWrapper>\n                    <EditionsContainer>\n                        {\n                            editionsdata.map(edition => {\n                                return(\n                                    <EditionDetails key={edition.id}>\n                                        <EditionTitle>{edition.title}</EditionTitle>\n                                        <EditionStatus>\n                                            <i className={edition.status == \"published\" ? \"bi bi-check-circle\" : \"bi bi-clock\"}> </i>\n                                            {edition.status == \"published\" ? \"Publié\" : \"En cours de rédaction\"}\n                                        </EditionStatus>\n                                        <EditionQueue>{edition.redaction} articles en attente, {edition.correction} en correction, {edition.done} terminé</EditionQueue>\n                                        <EditionMore href={\"/editions/\" + edition.id}>En voir +</EditionMore>\n                                    </EditionDetails>\n                                )\n                            })\n                        }\n                    </EditionsContainer>\n                </EditionsWrapper>\n            </DashboardContent>\n        </DashboardWrapper>\n    );\n}\n\nexport default DashboardEditions__chief;"],"mappings":"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"},"metadata":{},"sourceType":"module"}