{"ast":null,"code":"var _jsxFileName = \"/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/components/ForgotPasswordValidationPopup.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { PopupContent, PopupExitButton, PopupWrapper } from \"../styled/Popup.styled\";\nimport { AdminButton, AdminH1, AdminInputIcon, AdminTextInput, AdminTextInputWrapper, ErrorContainer, GoodContainer } from \"../styled/Common.styled\";\nimport { useParams } from \"react-router-dom\";\nimport { changePassword } from \"../api/forgotPassword\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ForgotPasswordValidationPopup = /*#__PURE__*/_s( /*#__PURE__*/React.forwardRef(_c = _s((props, ref) => {\n  _s();\n\n  const {\n    token\n  } = useParams();\n\n  async function resetPassword(e) {\n    e.preventDefault();\n    const pass1 = document.querySelector(\"#pass-1\");\n    const pass2 = document.querySelector(\"#pass-2\");\n\n    if (pass1.value === pass2.value) {\n      const request = await changePassword(token, pass1.value);\n      console.log(\"Same value\");\n\n      if (request) {\n        console.log(\"Good token\");\n        document.querySelector(\"#error-container\").style.display = \"none\";\n        const goodWrapper = document.querySelector(\"#good-container\");\n        goodWrapper.style.display = \"block\";\n        goodWrapper.style.innerText = \"Mot de passe changé avec succès\";\n      } else {\n        console.log(\"bac token\");\n        document.querySelector(\"#good-container\").style.display = \"none\";\n        const errorWrapper = document.querySelector(\"#error-container\");\n        errorWrapper.style.display = \"block\";\n        errorWrapper.style.innerText = \"Votre lien n'est pas reconnu. Veuillez vérifier.\";\n      }\n    } else {\n      console.log(\"not Same value\");\n      document.querySelector(\"#good-container\").style.display = \"none\";\n      const errorWrapper = document.querySelector(\"#error-container\");\n      errorWrapper.style.display = \"block\";\n      errorWrapper.style.innerText = \"Vos mots de passe ne correspondent pas. Veuillez vérifier.\";\n    }\n  }\n\n  function forgotDisppear() {\n    ref.current.style.display = \"none\";\n  }\n\n  return /*#__PURE__*/_jsxDEV(PopupWrapper, {\n    shown: props.shown,\n    ref: ref,\n    children: /*#__PURE__*/_jsxDEV(PopupContent, {\n      children: [/*#__PURE__*/_jsxDEV(PopupExitButton, {\n        onClick: forgotDisppear,\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"bi bi-x-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 63\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(AdminH1, {\n        centered: true,\n        popup: true,\n        children: \"Mot de passe oubli\\xE9\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(AdminTextInputWrapper, {\n        popup: true,\n        children: [/*#__PURE__*/_jsxDEV(AdminTextInput, {\n          id: \"pass-1\",\n          type: \"password\",\n          placeholder: \"Nouveau mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(AdminInputIcon, {\n          className: \"bi bi-key-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(AdminTextInputWrapper, {\n        popup: true,\n        children: [/*#__PURE__*/_jsxDEV(AdminTextInput, {\n          id: \"pass-2\",\n          type: \"password\",\n          placeholder: \"Vérification du nouveau mot de passe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(AdminInputIcon, {\n          className: \"bi bi-key-fill\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(ErrorContainer, {\n        id: \"error-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(GoodContainer, {\n        id: \"good-container\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(AdminButton, {\n        popup: true,\n        onClick: resetPassword,\n        children: \"R\\xE9initialiser votre mot de passe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 13\n  }, this);\n}, \"DxflzxfNcV7+2QoF0vUsDgzxJ+8=\", false, function () {\n  return [useParams];\n})), \"DxflzxfNcV7+2QoF0vUsDgzxJ+8=\", false, function () {\n  return [useParams];\n});\n_c2 = ForgotPasswordValidationPopup;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"ForgotPasswordValidationPopup$React.forwardRef\");\n$RefreshReg$(_c2, \"ForgotPasswordValidationPopup\");","map":{"version":3,"names":["React","PopupContent","PopupExitButton","PopupWrapper","AdminButton","AdminH1","AdminInputIcon","AdminTextInput","AdminTextInputWrapper","ErrorContainer","GoodContainer","useParams","changePassword","ForgotPasswordValidationPopup","forwardRef","props","ref","token","resetPassword","e","preventDefault","pass1","document","querySelector","pass2","value","request","console","log","style","display","goodWrapper","innerText","errorWrapper","forgotDisppear","current","shown"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/components/ForgotPasswordValidationPopup.js"],"sourcesContent":["import React from 'react';\nimport {PopupContent, PopupExitButton, PopupWrapper} from \"../styled/Popup.styled\";\nimport {\n    AdminButton,\n    AdminH1,\n    AdminInputIcon,\n    AdminTextInput,\n    AdminTextInputWrapper, ErrorContainer, GoodContainer\n} from \"../styled/Common.styled\";\nimport {useParams} from \"react-router-dom\";\nimport {changePassword} from \"../api/forgotPassword\";\n\nexport const ForgotPasswordValidationPopup = React.forwardRef((props, ref) => {\n    const {token} = useParams()\n\n    async function resetPassword(e) {\n        e.preventDefault()\n        const pass1 = document.querySelector(\"#pass-1\")\n        const pass2 = document.querySelector(\"#pass-2\")\n        if(pass1.value === pass2.value){\n            const request = await changePassword(token, pass1.value)\n            console.log(\"Same value\")\n            if(request){\n                console.log(\"Good token\")\n                document.querySelector(\"#error-container\").style.display = \"none\"\n                const goodWrapper = document.querySelector(\"#good-container\")\n                goodWrapper.style.display = \"block\"\n                goodWrapper.style.innerText = \"Mot de passe changé avec succès\"\n            }else{\n                console.log(\"bac token\")\n                document.querySelector(\"#good-container\").style.display = \"none\"\n                const errorWrapper = document.querySelector(\"#error-container\")\n                errorWrapper.style.display = \"block\"\n                errorWrapper.style.innerText = \"Votre lien n'est pas reconnu. Veuillez vérifier.\"\n            }\n        } else {\n            console.log(\"not Same value\")\n            document.querySelector(\"#good-container\").style.display = \"none\"\n            const errorWrapper = document.querySelector(\"#error-container\")\n            errorWrapper.style.display = \"block\"\n            errorWrapper.style.innerText = \"Vos mots de passe ne correspondent pas. Veuillez vérifier.\"\n        }\n    }\n\n    function forgotDisppear() {\n        ref.current.style.display = \"none\"\n    }\n        return (\n            <PopupWrapper shown={props.shown} ref={ref}>\n                <PopupContent>\n                    <PopupExitButton onClick={forgotDisppear}><i className=\"bi bi-x-lg\"></i></PopupExitButton>\n                    <AdminH1 centered={true} popup={true}>Mot de passe oublié</AdminH1>\n                    <AdminTextInputWrapper popup={true}>\n                        <AdminTextInput id={\"pass-1\"} type={\"password\"} placeholder={\"Nouveau mot de passe\"}/>\n                        <AdminInputIcon className=\"bi bi-key-fill\"/>\n                    </AdminTextInputWrapper>\n                    <AdminTextInputWrapper popup={true}>\n                        <AdminTextInput id={\"pass-2\"} type={\"password\"} placeholder={\"Vérification du nouveau mot de passe\"}/>\n                        <AdminInputIcon className=\"bi bi-key-fill\"/>\n                    </AdminTextInputWrapper>\n                    <ErrorContainer id={\"error-container\"}/>\n                    <GoodContainer id={\"good-container\"}/>\n                    <AdminButton popup={true} onClick={resetPassword}>\n                        Réinitialiser votre mot de passe\n                    </AdminButton>\n                </PopupContent>\n            </PopupWrapper>\n        );\n})\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,YAAR,EAAsBC,eAAtB,EAAuCC,YAAvC,QAA0D,wBAA1D;AACA,SACIC,WADJ,EAEIC,OAFJ,EAGIC,cAHJ,EAIIC,cAJJ,EAKIC,qBALJ,EAK2BC,cAL3B,EAK2CC,aAL3C,QAMO,yBANP;AAOA,SAAQC,SAAR,QAAwB,kBAAxB;AACA,SAAQC,cAAR,QAA6B,uBAA7B;;AAEA,OAAO,MAAMC,6BAA6B,iCAAGb,KAAK,CAACc,UAAN,SAAiB,CAACC,KAAD,EAAQC,GAAR,KAAgB;EAAA;;EAC1E,MAAM;IAACC;EAAD,IAAUN,SAAS,EAAzB;;EAEA,eAAeO,aAAf,CAA6BC,CAA7B,EAAgC;IAC5BA,CAAC,CAACC,cAAF;IACA,MAAMC,KAAK,GAAGC,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAd;IACA,MAAMC,KAAK,GAAGF,QAAQ,CAACC,aAAT,CAAuB,SAAvB,CAAd;;IACA,IAAGF,KAAK,CAACI,KAAN,KAAgBD,KAAK,CAACC,KAAzB,EAA+B;MAC3B,MAAMC,OAAO,GAAG,MAAMd,cAAc,CAACK,KAAD,EAAQI,KAAK,CAACI,KAAd,CAApC;MACAE,OAAO,CAACC,GAAR,CAAY,YAAZ;;MACA,IAAGF,OAAH,EAAW;QACPC,OAAO,CAACC,GAAR,CAAY,YAAZ;QACAN,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,EAA2CM,KAA3C,CAAiDC,OAAjD,GAA2D,MAA3D;QACA,MAAMC,WAAW,GAAGT,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,CAApB;QACAQ,WAAW,CAACF,KAAZ,CAAkBC,OAAlB,GAA4B,OAA5B;QACAC,WAAW,CAACF,KAAZ,CAAkBG,SAAlB,GAA8B,iCAA9B;MACH,CAND,MAMK;QACDL,OAAO,CAACC,GAAR,CAAY,WAAZ;QACAN,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CM,KAA1C,CAAgDC,OAAhD,GAA0D,MAA1D;QACA,MAAMG,YAAY,GAAGX,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAArB;QACAU,YAAY,CAACJ,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B;QACAG,YAAY,CAACJ,KAAb,CAAmBG,SAAnB,GAA+B,kDAA/B;MACH;IACJ,CAhBD,MAgBO;MACHL,OAAO,CAACC,GAAR,CAAY,gBAAZ;MACAN,QAAQ,CAACC,aAAT,CAAuB,iBAAvB,EAA0CM,KAA1C,CAAgDC,OAAhD,GAA0D,MAA1D;MACA,MAAMG,YAAY,GAAGX,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAArB;MACAU,YAAY,CAACJ,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B;MACAG,YAAY,CAACJ,KAAb,CAAmBG,SAAnB,GAA+B,4DAA/B;IACH;EACJ;;EAED,SAASE,cAAT,GAA0B;IACtBlB,GAAG,CAACmB,OAAJ,CAAYN,KAAZ,CAAkBC,OAAlB,GAA4B,MAA5B;EACH;;EACG,oBACI,QAAC,YAAD;IAAc,KAAK,EAAEf,KAAK,CAACqB,KAA3B;IAAkC,GAAG,EAAEpB,GAAvC;IAAA,uBACI,QAAC,YAAD;MAAA,wBACI,QAAC,eAAD;QAAiB,OAAO,EAAEkB,cAA1B;QAAA,uBAA0C;UAAG,SAAS,EAAC;QAAb;UAAA;UAAA;UAAA;QAAA;MAA1C;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI,QAAC,OAAD;QAAS,QAAQ,EAAE,IAAnB;QAAyB,KAAK,EAAE,IAAhC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI,QAAC,qBAAD;QAAuB,KAAK,EAAE,IAA9B;QAAA,wBACI,QAAC,cAAD;UAAgB,EAAE,EAAE,QAApB;UAA8B,IAAI,EAAE,UAApC;UAAgD,WAAW,EAAE;QAA7D;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,cAAD;UAAgB,SAAS,EAAC;QAA1B;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAOI,QAAC,qBAAD;QAAuB,KAAK,EAAE,IAA9B;QAAA,wBACI,QAAC,cAAD;UAAgB,EAAE,EAAE,QAApB;UAA8B,IAAI,EAAE,UAApC;UAAgD,WAAW,EAAE;QAA7D;UAAA;UAAA;UAAA;QAAA,QADJ,eAEI,QAAC,cAAD;UAAgB,SAAS,EAAC;QAA1B;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,eAWI,QAAC,cAAD;QAAgB,EAAE,EAAE;MAApB;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI,QAAC,aAAD;QAAe,EAAE,EAAE;MAAnB;QAAA;QAAA;QAAA;MAAA,QAZJ,eAaI,QAAC,WAAD;QAAa,KAAK,EAAE,IAApB;QAA0B,OAAO,EAAEhB,aAAnC;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAbJ;IAAA;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAqBP,CAxD4C;EAAA,QACzBP,SADyB;AAAA,GAAH;EAAA,QACtBA,SADsB;AAAA,EAAnC;MAAME,6B"},"metadata":{},"sourceType":"module"}