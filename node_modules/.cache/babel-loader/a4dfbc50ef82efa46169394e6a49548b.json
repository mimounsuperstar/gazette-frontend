{"ast":null,"code":"import { link } from \"./api\";\nimport axios from \"axios\";\nexport async function listEditions() {\n  const response = await axios.get(link + \"editions/list/\");\n  return response.data;\n}\nexport async function addEdition(title) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.post(link + \"editions/add/\", {\n      \"title\": title\n    }, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function listArticles(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(link + \"articles/list/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return response.data;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function listTasks(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(link + \"tasks/list/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return response.data;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function publishEdition(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(link + \"editions/publish/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function addArticle(redactor1, redactor2, tag, title, marker, edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.post(link + \"articles/add/\", {\n      \"title\": title,\n      \"label\": tag,\n      \"redactor_1\": redactor1,\n      \"redactor_2\": redactor2,\n      \"corrector\": marker,\n      \"content\": \"\",\n      \"edition\": edition\n    }, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}","map":{"version":3,"names":["link","axios","listEditions","response","get","data","addEdition","title","token","sessionStorage","getItem","post","headers","e","listArticles","edition","listTasks","publishEdition","addArticle","redactor1","redactor2","tag","marker"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/api/contentApiCall.js"],"sourcesContent":["import {link} from \"./api\";\nimport axios from \"axios\";\n\nexport async function listEditions(){\n    const response = await axios.get(link+\"editions/list/\")\n    return response.data\n}\n\nexport async function addEdition(title){\n    try{\n        const token = sessionStorage.getItem('req_token')\n        await axios.post(link+\"editions/add/\",{\"title\": title}, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch(e){\n        return e\n    }\n}\n\nexport async function listArticles(edition){\n    try{\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(link+\"articles/list/\"+edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return response.data\n    } catch(e){\n        return e\n    }\n}\n\nexport async function listTasks(edition){\n    try{\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(link+\"tasks/list/\"+edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return response.data\n    } catch(e){\n        return e\n    }\n}\n\nexport async function publishEdition(edition){\n    try{\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(link+\"editions/publish/\"+edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch(e){\n        return e\n    }\n}\n\nexport async function addArticle(redactor1, redactor2, tag, title, marker, edition){\n    try{\n        const token = sessionStorage.getItem('req_token')\n        await axios.post(link+\"articles/add/\",\n            {\n                \"title\": title,\n                \"label\": tag,\n                \"redactor_1\": redactor1,\n                \"redactor_2\": redactor2,\n                \"corrector\": marker,\n                \"content\": \"\",\n                \"edition\": edition\n                }, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch(e){\n        return e\n    }\n}"],"mappings":"AAAA,SAAQA,IAAR,QAAmB,OAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,eAAeC,YAAf,GAA6B;EAChC,MAAMC,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAUJ,IAAI,GAAC,gBAAf,CAAvB;EACA,OAAOG,QAAQ,CAACE,IAAhB;AACH;AAED,OAAO,eAAeC,UAAf,CAA0BC,KAA1B,EAAgC;EACnC,IAAG;IACC,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;IACA,MAAMT,KAAK,CAACU,IAAN,CAAWX,IAAI,GAAC,eAAhB,EAAgC;MAAC,SAASO;IAAV,CAAhC,EAAkD;MAACK,OAAO,EAAE;QAAC,iBAAiB,WAAWJ;MAA7B;IAAV,CAAlD,CAAN;IACA,OAAO,IAAP;EACH,CAJD,CAIE,OAAMK,CAAN,EAAQ;IACN,OAAOA,CAAP;EACH;AACJ;AAED,OAAO,eAAeC,YAAf,CAA4BC,OAA5B,EAAoC;EACvC,IAAG;IACC,MAAMP,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;IACA,MAAMP,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAUJ,IAAI,GAAC,gBAAL,GAAsBe,OAAhC,EAAyC;MAACH,OAAO,EAAE;QAAC,iBAAiB,WAAWJ;MAA7B;IAAV,CAAzC,CAAvB;IACA,OAAOL,QAAQ,CAACE,IAAhB;EACH,CAJD,CAIE,OAAMQ,CAAN,EAAQ;IACN,OAAOA,CAAP;EACH;AACJ;AAED,OAAO,eAAeG,SAAf,CAAyBD,OAAzB,EAAiC;EACpC,IAAG;IACC,MAAMP,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;IACA,MAAMP,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAUJ,IAAI,GAAC,aAAL,GAAmBe,OAA7B,EAAsC;MAACH,OAAO,EAAE;QAAC,iBAAiB,WAAWJ;MAA7B;IAAV,CAAtC,CAAvB;IACA,OAAOL,QAAQ,CAACE,IAAhB;EACH,CAJD,CAIE,OAAMQ,CAAN,EAAQ;IACN,OAAOA,CAAP;EACH;AACJ;AAED,OAAO,eAAeI,cAAf,CAA8BF,OAA9B,EAAsC;EACzC,IAAG;IACC,MAAMP,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;IACA,MAAMP,QAAQ,GAAG,MAAMF,KAAK,CAACG,GAAN,CAAUJ,IAAI,GAAC,mBAAL,GAAyBe,OAAnC,EAA4C;MAACH,OAAO,EAAE;QAAC,iBAAiB,WAAWJ;MAA7B;IAAV,CAA5C,CAAvB;IACA,OAAO,IAAP;EACH,CAJD,CAIE,OAAMK,CAAN,EAAQ;IACN,OAAOA,CAAP;EACH;AACJ;AAED,OAAO,eAAeK,UAAf,CAA0BC,SAA1B,EAAqCC,SAArC,EAAgDC,GAAhD,EAAqDd,KAArD,EAA4De,MAA5D,EAAoEP,OAApE,EAA4E;EAC/E,IAAG;IACC,MAAMP,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;IACA,MAAMT,KAAK,CAACU,IAAN,CAAWX,IAAI,GAAC,eAAhB,EACF;MACI,SAASO,KADb;MAEI,SAASc,GAFb;MAGI,cAAcF,SAHlB;MAII,cAAcC,SAJlB;MAKI,aAAaE,MALjB;MAMI,WAAW,EANf;MAOI,WAAWP;IAPf,CADE,EASK;MAACH,OAAO,EAAE;QAAC,iBAAiB,WAAWJ;MAA7B;IAAV,CATL,CAAN;IAUA,OAAO,IAAP;EACH,CAbD,CAaE,OAAMK,CAAN,EAAQ;IACN,OAAOA,CAAP;EACH;AACJ"},"metadata":{},"sourceType":"module"}