{"ast":null,"code":"import axios from \"axios\";\nimport { apiURL } from \"./api\";\nexport async function userApiCalls(username, password) {\n  try {\n    await axios.post(apiURL + \"login/\", {\n      'username': username,\n      'password': password\n    });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nexport async function generateToken(username, password) {\n  try {\n    const response = await axios.post(apiURL + \"token/\", {\n      'username': username,\n      'password': password\n    });\n    return response.data;\n  } catch (err) {\n    return err;\n  }\n}\nexport async function validUser() {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"user/check/\", {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n\n    if (response.data.detail == \"Invalid Token.\") {\n      return false;\n    } else {\n      return true;\n    }\n  } catch (err) {\n    return false;\n  }\n}\nexport async function getUserData() {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"user/check/\", {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n\n    if (response.data.detail == \"Invalid Token.\") {\n      return {\n        \"groups\": [false]\n      };\n    } else {\n      return response.data;\n    }\n  } catch (err) {\n    return {\n      \"groups\": [false]\n    };\n  }\n}\nexport async function getReportersList() {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"articles/add/\", {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return response.data;\n  } catch (err) {\n    return err;\n  }\n}\nexport async function registerUser(firstName, lastName, email) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.post(apiURL + \"user/handle/\", {\n      \"last_name\": lastName,\n      \"first_name\": firstName,\n      \"email\": email\n    }, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (err) {\n    return false;\n  }\n}\nexport async function deleteUserApi(id) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.delete(apiURL + \"user/delete/\" + id, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (err) {\n    return false;\n  }\n}","map":{"version":3,"names":["axios","apiURL","userApiCalls","username","password","post","e","generateToken","response","data","err","validUser","token","sessionStorage","getItem","get","headers","detail","getUserData","getReportersList","registerUser","firstName","lastName","email","deleteUserApi","id","delete"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/api/userApiCalls.js"],"sourcesContent":["import axios from \"axios\";\nimport {apiURL} from \"./api\";\n\nexport async function userApiCalls(username, password) {\n    try {\n        await axios.post(apiURL + \"login/\", {'username': username, 'password': password})\n        return true\n    } catch (e) {\n        return false\n    }\n}\n\nexport async function generateToken(username, password) {\n    try {\n        const response = await axios.post(apiURL + \"token/\", {'username': username, 'password': password})\n        return response.data\n    } catch (err) {\n        return err;\n    }\n}\n\nexport async function validUser() {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"user/check/\", {headers: {\"Authorization\": \"Token \" + token}})\n        if (response.data.detail == \"Invalid Token.\") {\n            return false\n        } else {\n            return true\n        }\n    } catch (err) {\n        return false;\n    }\n}\n\nexport async function getUserData() {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"user/check/\", {headers: {\"Authorization\": \"Token \" + token}})\n        if (response.data.detail == \"Invalid Token.\") {\n            return {\"groups\": [false]}\n        } else {\n            return response.data\n        }\n    } catch (err) {\n        return {\"groups\": [false]};\n    }\n}\n\nexport async function getReportersList() {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"articles/add/\", {headers: {\"Authorization\": \"Token \" + token}})\n        return response.data\n    } catch (err) {\n        return err;\n    }\n}\n\nexport async function registerUser(firstName, lastName, email) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        await axios.post(apiURL + \"user/handle/\", {\n            \"last_name\": lastName,\n            \"first_name\": firstName,\n            \"email\": email\n        }, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (err) {\n        return false;\n    }\n}\n\nexport async function deleteUserApi(id) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        await axios.delete(apiURL + \"user/delete/\" + id, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (err) {\n        return false;\n    }\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}