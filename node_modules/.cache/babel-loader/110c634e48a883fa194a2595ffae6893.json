{"ast":null,"code":"import { getUserData, validUser } from \"../api/userApiCalls\";\nimport axios from \"axios\";\nimport { apiURL } from \"../api/api\";\nexport async function getRedirectStatus(auth_requirement) {\n  const logged_in = await validUser();\n\n  if (!logged_in && auth_requirement) {\n    return true;\n  } else if (logged_in && !auth_requirement) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport async function getRank() {\n  const userdata = await getUserData();\n  const userRank = userdata.groups;\n\n  if (userRank.includes(3)) {\n    return \"admin\";\n  } else if (userRank.includes(4)) {\n    return \"redactor\";\n  } else if (userRank.includes(5)) {\n    return \"marker\";\n  } else {\n    return \"arriviste\";\n  }\n}\nexport async function getPermission(id) {\n  const token = sessionStorage.getItem('req_token');\n  const response = await axios.get(apiURL + \"articles/permission/\" + id, {\n    headers: {\n      \"Authorization\": \"Token \" + token\n    }\n  });\n  return response.data;\n}","map":{"version":3,"names":["getUserData","validUser","axios","apiURL","getRedirectStatus","auth_requirement","logged_in","getRank","userdata","userRank","groups","includes","getPermission","id","token","sessionStorage","getItem","response","get","headers","data"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/helpers/redirection.js"],"sourcesContent":["import {getUserData, validUser} from \"../api/userApiCalls\";\nimport axios from \"axios\";\nimport {apiURL} from \"../api/api\";\n\nexport async function getRedirectStatus(auth_requirement) {\n    const logged_in = await validUser()\n    if (!logged_in && auth_requirement) {\n        return true\n    } else if (logged_in && !auth_requirement) {\n        return true\n    } else {\n        return false\n    }\n}\n\nexport async function getRank() {\n    const userdata = await getUserData()\n    const userRank = userdata.groups\n    if (userRank.includes(3)) {\n        return \"admin\"\n    } else if (userRank.includes(4)) {\n        return \"redactor\"\n    } else if (userRank.includes(5)) {\n        return \"marker\"\n    } else {\n        return \"arriviste\"\n    }\n\n}\n\nexport async function getPermission(id) {\n    const token = sessionStorage.getItem('req_token')\n    const response = await axios.get(apiURL + \"articles/permission/\" + id, {headers: {\"Authorization\": \"Token \" + token}})\n    return response.data\n\n}\n\n"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,SAArB,QAAqC,qBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,MAAR,QAAqB,YAArB;AAEA,OAAO,eAAeC,iBAAf,CAAiCC,gBAAjC,EAAmD;EACtD,MAAMC,SAAS,GAAG,MAAML,SAAS,EAAjC;;EACA,IAAI,CAACK,SAAD,IAAcD,gBAAlB,EAAoC;IAChC,OAAO,IAAP;EACH,CAFD,MAEO,IAAIC,SAAS,IAAI,CAACD,gBAAlB,EAAoC;IACvC,OAAO,IAAP;EACH,CAFM,MAEA;IACH,OAAO,KAAP;EACH;AACJ;AAED,OAAO,eAAeE,OAAf,GAAyB;EAC5B,MAAMC,QAAQ,GAAG,MAAMR,WAAW,EAAlC;EACA,MAAMS,QAAQ,GAAGD,QAAQ,CAACE,MAA1B;;EACA,IAAID,QAAQ,CAACE,QAAT,CAAkB,CAAlB,CAAJ,EAA0B;IACtB,OAAO,OAAP;EACH,CAFD,MAEO,IAAIF,QAAQ,CAACE,QAAT,CAAkB,CAAlB,CAAJ,EAA0B;IAC7B,OAAO,UAAP;EACH,CAFM,MAEA,IAAIF,QAAQ,CAACE,QAAT,CAAkB,CAAlB,CAAJ,EAA0B;IAC7B,OAAO,QAAP;EACH,CAFM,MAEA;IACH,OAAO,WAAP;EACH;AAEJ;AAED,OAAO,eAAeC,aAAf,CAA6BC,EAA7B,EAAiC;EACpC,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;EACA,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAUf,MAAM,GAAG,sBAAT,GAAkCU,EAA5C,EAAgD;IAACM,OAAO,EAAE;MAAC,iBAAiB,WAAWL;IAA7B;EAAV,CAAhD,CAAvB;EACA,OAAOG,QAAQ,CAACG,IAAhB;AAEH"},"metadata":{},"sourceType":"module"}