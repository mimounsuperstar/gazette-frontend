{"ast":null,"code":"import { apiURL } from \"./api\";\nimport axios from \"axios\";\nexport async function listEditions() {\n  const response = await axios.get(apiURL + \"editions/list/\");\n  return response.data;\n}\nexport async function addEdition(title) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.post(apiURL + \"editions/add/\", {\n      \"title\": title\n    }, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function listArticles(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"articles/list/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return response.data;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function listTasks(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"tasks/list/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return response.data;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function publishEdition(edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    const response = await axios.get(apiURL + \"editions/publish/\" + edition, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function addArticle(redactor1, redactor2, tag, title, marker, edition) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.post(apiURL + \"articles/add/\", {\n      \"title\": title,\n      \"label\": tag,\n      \"redactor_1\": redactor1,\n      \"redactor_2\": redactor2,\n      \"corrector\": marker,\n      \"content\": \"\",\n      \"edition\": edition\n    }, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (e) {\n    return e;\n  }\n}\nexport async function sendMarkerApi(id) {\n  try {\n    const token = sessionStorage.getItem('req_token');\n    await axios.get(apiURL + \"articles/edit/\" + id, {\n      headers: {\n        \"Authorization\": \"Token \" + token\n      }\n    });\n    return true;\n  } catch (err) {\n    return false;\n  }\n}","map":{"version":3,"names":["apiURL","axios","listEditions","response","get","data","addEdition","title","token","sessionStorage","getItem","post","headers","e","listArticles","edition","listTasks","publishEdition","addArticle","redactor1","redactor2","tag","marker","sendMarkerApi","id","err"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/api/contentApiCall.js"],"sourcesContent":["import {apiURL} from \"./api\";\nimport axios from \"axios\";\n\nexport async function listEditions() {\n    const response = await axios.get(apiURL + \"editions/list/\")\n    return response.data\n}\n\nexport async function addEdition(title) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        await axios.post(apiURL + \"editions/add/\", {\"title\": title}, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (e) {\n        return e\n    }\n}\n\nexport async function listArticles(edition) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"articles/list/\" + edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return response.data\n    } catch (e) {\n        return e\n    }\n}\n\nexport async function listTasks(edition) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"tasks/list/\" + edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return response.data\n    } catch (e) {\n        return e\n    }\n}\n\nexport async function publishEdition(edition) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        const response = await axios.get(apiURL + \"editions/publish/\" + edition, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (e) {\n        return e\n    }\n}\n\nexport async function addArticle(redactor1, redactor2, tag, title, marker, edition) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        await axios.post(apiURL + \"articles/add/\",\n            {\n                \"title\": title,\n                \"label\": tag,\n                \"redactor_1\": redactor1,\n                \"redactor_2\": redactor2,\n                \"corrector\": marker,\n                \"content\": \"\",\n                \"edition\": edition\n            }, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (e) {\n        return e\n    }\n}\n\nexport async function sendMarkerApi(id) {\n    try {\n        const token = sessionStorage.getItem('req_token')\n        await axios.get(apiURL + \"articles/edit/\" + id, {headers: {\"Authorization\": \"Token \" + token}})\n        return true\n    } catch (err) {\n        return false;\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}