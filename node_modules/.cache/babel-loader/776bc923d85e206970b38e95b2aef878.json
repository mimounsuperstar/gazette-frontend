{"ast":null,"code":"import { getUserData, validUser } from \"../api/userApiCalls\";\nimport axios from \"axios\";\nimport { link } from \"../api/api\";\nexport async function getRedirectStatus(auth_requirement) {\n  const logged_in = await validUser();\n\n  if (!logged_in && auth_requirement) {\n    return true;\n  } else if (logged_in && !auth_requirement) {\n    return true;\n  } else {\n    return false;\n  }\n}\nexport async function getRank() {\n  const userdata = await getUserData();\n  const userRank = userdata.groups;\n\n  if (userRank.includes(3)) {\n    return \"admin\";\n  } else if (userRank.includes(4)) {\n    return \"redactor\";\n  } else {\n    return \"arriviste\";\n  }\n}\nexport async function getPermission(id) {\n  const token = sessionStorage.getItem('req_token');\n  const response = await axios.get(link + \"articles/permission/\" + id, {\n    headers: {\n      \"Authorization\": \"Token \" + token\n    }\n  });\n  return response.data;\n}","map":{"version":3,"names":["getUserData","validUser","axios","link","getRedirectStatus","auth_requirement","logged_in","getRank","userdata","userRank","groups","includes","getPermission","id","token","sessionStorage","getItem","response","get","headers","data"],"sources":["/Users/mimoun./WebstormProjects/gazette-frontend/src/admin/helpers/redirection.js"],"sourcesContent":["import {getUserData, validUser} from \"../api/userApiCalls\";\nimport axios from \"axios\";\nimport {link} from \"../api/api\";\n\nexport async function getRedirectStatus(auth_requirement)\n{\n    const logged_in = await validUser()\n    if(!logged_in && auth_requirement){\n        return true\n    } else if(logged_in && !auth_requirement){\n    return true\n    } else {\n        return false\n    }\n}\n\nexport async function getRank()\n{\n    const userdata = await getUserData()\n    const userRank = userdata.groups\n    if(userRank.includes(3)){\n        return \"admin\"\n    } else if(userRank.includes(4)){\n        return \"redactor\"\n    } else {\n        return \"arriviste\"\n    }\n\n}\n\nexport async function getPermission(id)\n{\n    const token = sessionStorage.getItem('req_token')\n    const response = await axios.get(link + \"articles/permission/\"+id, {headers: {\"Authorization\": \"Token \" + token}})\n    return response.data\n\n}\n\n"],"mappings":"AAAA,SAAQA,WAAR,EAAqBC,SAArB,QAAqC,qBAArC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,YAAnB;AAEA,OAAO,eAAeC,iBAAf,CAAiCC,gBAAjC,EACP;EACI,MAAMC,SAAS,GAAG,MAAML,SAAS,EAAjC;;EACA,IAAG,CAACK,SAAD,IAAcD,gBAAjB,EAAkC;IAC9B,OAAO,IAAP;EACH,CAFD,MAEO,IAAGC,SAAS,IAAI,CAACD,gBAAjB,EAAkC;IACzC,OAAO,IAAP;EACC,CAFM,MAEA;IACH,OAAO,KAAP;EACH;AACJ;AAED,OAAO,eAAeE,OAAf,GACP;EACI,MAAMC,QAAQ,GAAG,MAAMR,WAAW,EAAlC;EACA,MAAMS,QAAQ,GAAGD,QAAQ,CAACE,MAA1B;;EACA,IAAGD,QAAQ,CAACE,QAAT,CAAkB,CAAlB,CAAH,EAAwB;IACpB,OAAO,OAAP;EACH,CAFD,MAEO,IAAGF,QAAQ,CAACE,QAAT,CAAkB,CAAlB,CAAH,EAAwB;IAC3B,OAAO,UAAP;EACH,CAFM,MAEA;IACH,OAAO,WAAP;EACH;AAEJ;AAED,OAAO,eAAeC,aAAf,CAA6BC,EAA7B,EACP;EACI,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAf,CAAuB,WAAvB,CAAd;EACA,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,GAAN,CAAUf,IAAI,GAAG,sBAAP,GAA8BU,EAAxC,EAA4C;IAACM,OAAO,EAAE;MAAC,iBAAiB,WAAWL;IAA7B;EAAV,CAA5C,CAAvB;EACA,OAAOG,QAAQ,CAACG,IAAhB;AAEH"},"metadata":{},"sourceType":"module"}